/* MiniUPnP Project
 * http://miniupnp.free.fr/ or http://miniupnp.tuxfamily.org/
 * (c) 2006-2011 Thomas Bernard
 * generated by ./genconfig.sh */
 
  /**********************问题单修改记录******************************************
    日期              修改人         问题单号           修改内容
  
 2012.03.14        z00203875     2031401440    修改打LOG方式  
 2012.04.03        z00203875     2032802867    无法在不删除规则的
                                                     情况下禁用规则 
 2012.04.27        z00203875     2041707023    Add LAN IP Restriction
 2012.05.16        z00203875     2051600916    Disable WAN Port Listen
 2012.07.06        z00203875     2061908201    图标低概率不出现   
 2012.08.29        z00203875     2082304944    UPnP认证测试
 2012.09.29        z00203875     2092807655    WIN7系统图标无拨号菜单
******************************************************************************/

 
#ifndef __CONFIG_H__
#define __CONFIG_H__

#include <inttypes.h>

/* BEGIN DTS added by z00203875 2012.03.13 */

#include "np_log.h"

#define NP_UPNP_FATAL(msg, args...)  NP_LOG_FATAL("upnp", msg, ##args)
#define NP_UPNP_ERROR(msg, args...)  NP_LOG_ERROR("upnp", msg, ##args)
#define NP_UPNP_WARN(msg, args...)   NP_LOG_WARN("upnp", msg,  ##args)
#define NP_UPNP_INFO(msg, args...)   NP_LOG_INFO("upnp", msg,  ##args)
#define NP_UPNP_DEBUG(msg, args...)  NP_LOG_DEBUG("upnp", msg, ##args)

/* END DTS added by z00203875 2012.03.13 */

#define DEBUG
//#define DEBUG_SHOW_HTTP_PACKET
//#define USE_MOCKER

#define MINIUPNPD_VERSION "1.6"
/*BEGIN 2041707023 zhoujianchun 00203875 2012.4.27 modified */
/*BEGIN 2051600916 zhoujianchun 00203875 2012.5.16 modified */
/*BEGIN 2061908201 zhoujianchun 00203875 2012.07.06 modified */
/*BEGIN 2082304944 zhoujianchun 00203875 2012.8.29 modified */
/*BEGIN 2092807655 zhoujianchun 00203875 2012.9.29 modified */
#ifdef FEATURE_HUAWEI_MBB_PNPX
#define VERSION_INFO ("version 1.6, built on 2012.09.29 9:20, pnpx is on.\n")
#else
#define VERSION_INFO ("version 1.6, built on 2012.09.29 9:20\n")
#endif
/*END   2092807655 zhoujianchun 00203875 2012.9.29 modified */
/*END   2082304944 zhoujianchun 00203875 2012.8.29 modified */
/*END   2061908201 zhoujianchun 00203875 2012.07.06 modified */
/*END   2051600916 zhoujianchun 00203875 2012.5.16 modified */
/*END   2041707023 zhoujianchun 00203875 2012.4.27 modified */

#define UPNP_VERSION    "20111130"
#define USE_NETFILTER 0
//#define USE_IFACEWATCHER 1
#define SUPPORT_REMOTEHOST

#define OS_NAME     "Huawei"
#define OS_VERSION  "E588"
#define OS_URL      "http://www.huawei.com/"

/* syslog facility to be used by miniupnpd */
#define LOG_MINIUPNPD        LOG_DAEMON

/* Uncomment the following line to allow miniupnpd to be
 * controlled by miniupnpdctl */
/*#define USE_MINIUPNPDCTL*/

/* Comment the following line to disable NAT-PMP operations */
#define ENABLE_NATPMP

/* Uncomment the following line to enable generation of
 * filter rules with pf */
/*#define PF_ENABLE_FILTER_RULES*/

/* Uncomment the following line to enable caching of results of
 * the getifstats() function */
/*#define ENABLE_GETIFSTATS_CACHING*/
/* The cache duration is indicated in seconds */
#define GETIFSTATS_CACHING_DURATION 2

/* Uncomment the following line to enable multiple external ip support */
/* note : That is EXPERIMENTAL, do not use that unless you know perfectly what you are doing */
/* Dynamic external ip adresses are not supported when this option is enabled.
 * Also note that you would need to configure your .conf file accordingly. */
/*#define MULTIPLE_EXTERNAL_IP*/

/* Comment the following line to use home made daemonize() func instead
 * of BSD daemon() */
#define USE_DAEMON

/* Uncomment the following line to enable lease file support */
/*#define ENABLE_LEASEFILE*/

/* Define one or none of the two following macros in order to make some
 * clients happy. It will change the XML Root Description of the IGD.
 * Enabling the Layer3Forwarding Service seems to be the more compatible
 * option. */
/*#define HAS_DUMMY_SERVICE*/
#define ENABLE_L3F_SERVICE

/* Enable IP v6 support */
/*#define ENABLE_IPV6*/

/* Enable the support of IGD v2 specification.
 * This is not fully tested yet and can cause incompatibilities with some
 * control points, so enable with care. */
//#define IGD_V2

#ifdef IGD_V2
/* Enable DeviceProtection service (IGDv2) */
#define ENABLE_DP_SERVICE

/* Enable WANIPv6FirewallControl service (IGDv2). needs IPv6 */
#ifdef ENABLE_IPV6
#define ENABLE_6FC_SERVICE
#endif /* ENABLE_IPV6 */
#endif /* IGD_V2 */

#ifndef INET_ADDRSTRLEN
#define INET_ADDRSTRLEN 16
#endif

#define        MAX(a,b) (((a) > (b))?(a):(b))
/* UPnP Events support. Working well enough to be enabled by default.
 * It can be disabled to save a few bytes. */
#define ENABLE_EVENTS

/* include interface name in pf and ipf rules */
#define USE_IFNAME_IN_RULES

/* Experimental NFQUEUE support. */
/*#define ENABLE_NFQUEUE*/

/* Enable to make MiniUPnPd more strict about UPnP conformance
 * and the messages it receives from control points */
/*#define UPNP_STRICT*/

typedef struct _UPNP_CFG_ST
{
#define NAME_LEN 32
#define URL_LEN 128
    int8 rootdev_friendlyname[NAME_LEN];
    int8 rootdev_manufacturer[NAME_LEN];
    int8 rootdev_manufacturerurl[URL_LEN];
    int8 rootdev_modelname[NAME_LEN];
    int8 rootdev_modeldescription[NAME_LEN];
    int8 rootdev_modelurl[URL_LEN];
    int8 rootdev_modelnumber[NAME_LEN];

    int8 wandev_friendlyname[NAME_LEN];
    int8 wandev_manufacturer[NAME_LEN];
    int8 wandev_manufacturerurl[URL_LEN];
    int8 wandev_modelname[NAME_LEN];
    int8 wandev_modeldescription[NAME_LEN];
    int8 wandev_modelurl[URL_LEN];
    int8 wandev_modelnumber[NAME_LEN];
    int8 wandev_upc[NAME_LEN];

    int8 wancdev_friendlyname[NAME_LEN];
    int8 wancdev_manufacturer[NAME_LEN];
    int8 wancdev_manufacturerurl[URL_LEN];
    int8 wancdev_modelname[NAME_LEN];
    int8 wancdev_modeldescription[NAME_LEN];
    int8 wancdev_modelurl[URL_LEN];
    int8 wancdev_modelnumber[NAME_LEN];
    int8 wancdev_upc[NAME_LEN];
}UPNP_CFG_ST;
UPNP_CFG_ST upnp_cfg_st;
/* BEGIN 2082304944 zhoujianchun 00203875 2012.8.29 added */
#define UUID_IDX_ROOT 0
#define UUID_IDX_IGD 1 
#define UUID_IDX_WAN_CONN 2 
#define UUID_IDX_WAN 3 
#define UUID_IDX_WAN_COMMON 4 
#define UUID_IDX_WAN_IPCONN 5
#define UUID_IDX_L3F 6 
#define UUID_IDX_IPV6FW 7 

#define DEV_NUM 4 
#define MAX_KNOWN_SERVICE 10
/* END   2082304944 zhoujianchun 00203875 2012.8.29 added */
#endif
